category: IT Services
commonfields:
  id: CiscoIOS
  version: -1
configuration:
- additionalinfo: The credentials to associate with the instance. SSH keys can be
    configured using the credential manager.
  display: Username
  name: creds
  required: true
  type: 9
- additionalinfo: The default port to use if one is not specified in the commands
    `host` argument.
  defaultvalue: 22
  display: Default SSH Port
  name: port
  required: true
  type: 0
- additionalinfo: If multiple hosts are specified in a command, how many hosts should
    be interacted with concurrently.
  defaultvalue: '4'
  display: Concurrecy Factor
  name: concurrency
  required: true
  type: 0
description: Cisco IOS Platform management over SSH
display: Cisco IOS
image: data:image/png;base64,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
name: CiscoIOS
script:
  commands:
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - auto: PREDEFINED
      description: Specifies which banner should be configured on the remote device.
        In Ansible 2.4 and earlier only `login` and `motd` were supported.
      name: banner
      predefined:
      - login
      - motd
      - exec
      - incoming
      - slip-ppp
      required: true
    - description: The banner text that should be present in the remote device running
        configuration.  This argument accepts a multiline string, with no empty lines.
        Requires `state=present`.
      name: text
    - auto: PREDEFINED
      default: true
      defaultValue: present
      description: Specifies whether or not the configuration is present in the current
        devices active running configuration.
      name: state
      predefined:
      - present
      - absent
    description: Manage multiline banners on Cisco IOS devices
    name: ios_banner
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: Specifies the BGP related configuration.
      name: config
    - auto: PREDEFINED
      default: true
      defaultValue: merge
      description: 'Specifies the operation to be performed on the BGP process configured
        on the device.

        In case of merge, the input configuration will be merged with the existing
        BGP configuration on the device.

        In case of replace, if there is a diff between the existing configuration
        and the input configuration, the existing configuration will be replaced by
        the input configuration for every option that has the diff.

        In case of override, all the existing BGP configuration will be removed from
        the device and replaced with the input configuration.

        In case of delete the existing BGP configuration will be removed from the
        device.'
      name: operation
      predefined:
      - merge
      - replace
      - override
      - delete
    description: Configure global BGP protocol settings on Cisco IOS.
    name: ios_bgp
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: List of commands to send to the remote ios device over the configured
        provider. The resulting output from the command is returned. If the `wait_for`
        argument is provided, the module is not returned until the condition is satisfied
        or the number of retries has expired. If a command sent to the device requires
        answering a prompt, it is possible to pass a dict containing `command`, `answer`
        and `prompt`. Common answers are 'y' or "\r" (carriage return, must be double
        quotes). See examples.
      name: commands
      required: true
    - description: List of conditions to evaluate against the output of the command.
        The task will wait for each condition to be true before moving forward. If
        the conditional is not true within the configured number of retries, the task
        fails. See examples.
      name: wait_for
    - auto: PREDEFINED
      default: true
      defaultValue: all
      description: The `match` argument is used in conjunction with the `wait_for`
        argument to specify the match policy.  Valid values are `all` or `any`.  If
        the value is set to `all` then all conditionals in the wait_for must be satisfied.  If
        the value is set to `any` then only one of the values must be satisfied.
      name: match
      predefined:
      - any
      - all
    - default: true
      defaultValue: '10'
      description: Specifies the number of retries a command should by tried before
        it is considered failed. The command is run on the target device every retry
        and evaluated against the `wait_for` conditions.
      name: retries
    - default: true
      defaultValue: '1'
      description: Configures the interval in seconds to wait between retries of the
        command. If the command does not pass the specified conditions, the interval
        indicates how long to wait before trying the command again.
      name: interval
    description: Run commands on remote devices running Cisco IOS
    name: ios_command
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: The ordered set of commands that should be configured in the section.  The
        commands must be the exact same commands as found in the device running-config.  Be
        sure to note the configuration command syntax as some commands are automatically
        modified by the device config parser.
      name: lines
    - description: The ordered set of parents that uniquely identify the section or
        hierarchy the commands should be checked against.  If the parents argument
        is omitted, the commands are checked against the set of top level or global
        commands.
      name: parents
    - description: Specifies the source path to the file that contains the configuration
        or configuration template to load.  The path to the source file can either
        be the full path on the Ansible control host or a relative path from the playbook
        or role root directory.  This argument is mutually exclusive with `lines`,
        `parents`.
      name: src
    - description: The ordered set of commands to push on to the command stack if
        a change needs to be made.  This allows the playbook designer the opportunity
        to perform configuration commands prior to pushing any changes without affecting
        how the set of commands are matched against the system.
      name: before
    - description: The ordered set of commands to append to the end of the command
        stack if a change needs to be made.  Just like with `before` this allows the
        playbook designer to append a set of commands to be executed after the command
        set.
      name: after
    - auto: PREDEFINED
      default: true
      defaultValue: line
      description: Instructs the module on the way to perform the matching of the
        set of commands against the current device config.  If match is set to `line`,
        commands are matched line by line.  If match is set to `strict`, command lines
        are matched with respect to position.  If match is set to `exact`, command
        lines must be an equal match.  Finally, if match is set to `none`, the module
        will not attempt to compare the source configuration with the running configuration
        on the remote device.
      name: match
      predefined:
      - line
      - strict
      - exact
      - none
    - auto: PREDEFINED
      default: true
      defaultValue: line
      description: Instructs the module on the way to perform the configuration on
        the device. If the replace argument is set to `line` then the modified lines
        are pushed to the device in configuration mode.  If the replace argument is
        set to `block` then the entire command block is pushed to the device in configuration
        mode if any line is not correct.
      name: replace
      predefined:
      - line
      - block
    - default: true
      defaultValue: '@'
      description: This argument is used when pushing a multiline configuration element
        to the IOS device.  It specifies the character to use as the delimiting character.  This
        only applies to the configuration action.
      name: multiline_delimiter
    - default: true
      defaultValue: 'no'
      description: This argument will cause the module to create a full backup of
        the current `running-config` from the remote device before any changes are
        made. If the `backup_options` value is not given, the backup file is written
        to the `backup` folder in the playbook root directory or role root directory,
        if playbook is part of an ansible role. If the directory does not exist, it
        is created.
      name: backup
    - description: The module, by default, will connect to the remote device and retrieve
        the current running-config to use as a base for comparing against the contents
        of source. There are times when it is not desirable to have the task get the
        current running-config for every task in a playbook.  The `running_config`
        argument allows the implementer to pass in the configuration to use as the
        base config for comparison.
      name: running_config
    - default: true
      defaultValue: 'no'
      description: This argument specifies whether or not to collect all defaults
        when getting the remote device running config.  When enabled, the module will
        get the current config by issuing the command `show running-config all`.
      name: defaults
    - auto: PREDEFINED
      default: true
      defaultValue: never
      description: When changes are made to the device running-configuration, the
        changes are not copied to non-volatile storage by default.  Using this argument
        will change that before.  If the argument is set to `always`, then the running-config
        will always be copied to the startup-config and the `modified` flag will always
        be set to True.  If the argument is set to `modified`, then the running-config
        will only be copied to the startup-config if it has changed since the last
        save to startup-config.  If the argument is set to `never`, the running-config
        will never be copied to the startup-config.  If the argument is set to `changed`,
        then the running-config will only be copied to the startup-config if the task
        has made a change. `changed` was added in Ansible 2.5.
      name: save_when
      predefined:
      - always
      - never
      - modified
      - changed
    - auto: PREDEFINED
      description: 'When using the `ansible-playbook --diff` command line argument
        the module can generate diffs against different sources.

        When this option is configure as `startup`, the module will return the diff
        of the running-config against the startup-config.

        When this option is configured as `intended`, the module will return the diff
        of the running-config against the configuration provided in the `intended_config`
        argument.

        When this option is configured as `running`, the module will return the before
        and after diff of the running-config with respect to any changes made to the
        device configuration.'
      name: diff_against
      predefined:
      - running
      - startup
      - intended
    - description: Use this argument to specify one or more lines that should be ignored
        during the diff.  This is used for lines in the configuration that are automatically
        updated by the system.  This argument takes a list of regular expressions
        or exact line matches.
      name: diff_ignore_lines
    - description: The `intended_config` provides the master configuration that the
        node should conform to and is used to check the final running-config against.
        This argument will not modify any settings on the remote device and is strictly
        used to check the compliance of the current device's configuration against.  When
        specifying this argument, the task should also modify the `diff_against` value
        and set it to `intended`.
      name: intended_config
    - description: This is a dict object containing configurable options related to
        backup file path. The value of this option is read only when `backup` is set
        to `yes`, if `backup` is set to `no` this option will be silently ignored.
      isArray: true
      name: backup_options
    description: Manage Cisco IOS configuration sections
    name: ios_config
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - default: true
      defaultValue: '!config'
      description: 'When supplied, this argument restricts the facts collected to
        a given subset.

        Possible values for this argument include `all`, `min`, `hardware`, `config`,
        and `interfaces`.

        Specify a list of values to include a larger subset.

        Use a value with an initial `!` to collect all facts except that subset.'
      name: gather_subset
    - description: When supplied, this argument will restrict the facts collected
        to a given subset. Possible values for this argument include all and the resources
        like interfaces, vlans etc. Can specify a list of values to include a larger
        subset. Values can also be used with an initial `M(!`) to specify that a specific
        subset should not be collected. Valid subsets are 'all', 'interfaces', 'l2_interfaces',
        'vlans', 'lag_interfaces', 'lacp', 'lacp_interfaces', 'lldp_global', 'lldp_interfaces',
        'l3_interfaces'.
      name: gather_network_resources
    description: Collect facts from remote devices running Cisco IOS
    name: ios_facts
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: A dictionary of interface options
      isArray: true
      name: config
    - auto: PREDEFINED
      default: true
      defaultValue: merged
      description: The state of the configuration after module completion
      name: state
      predefined:
      - merged
      - replaced
      - overridden
      - deleted
    description: Manages interface attributes of Cisco IOS network devices
    name: ios_interfaces
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: A dictionary of Layer-2 interface options
      isArray: true
      name: config
    - auto: PREDEFINED
      default: true
      defaultValue: merged
      description: The state of the configuration after module completion
      name: state
      predefined:
      - merged
      - replaced
      - overridden
      - deleted
    description: Manage Layer-2 interface on Cisco IOS devices.
    name: ios_l2_interfaces
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: A dictionary of Layer-3 interface options
      isArray: true
      name: config
    - auto: PREDEFINED
      default: true
      defaultValue: merged
      description: The state of the configuration after module completion
      name: state
      predefined:
      - merged
      - replaced
      - overridden
      - deleted
    description: Manage Layer-3 interface on Cisco IOS devices.
    name: ios_l3_interfaces
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: The provided configurations.
      isArray: true
      name: config
    - auto: PREDEFINED
      default: true
      defaultValue: merged
      description: The state of the configuration after module completion
      name: state
      predefined:
      - merged
      - replaced
      - deleted
    description: Manage Global Link Aggregation Control Protocol (LACP) on Cisco IOS
      devices.
    name: ios_lacp
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: A dictionary of LACP lacp_interfaces option
      isArray: true
      name: config
    - auto: PREDEFINED
      default: true
      defaultValue: merged
      description: The state of the configuration after module completion
      name: state
      predefined:
      - merged
      - replaced
      - overridden
      - deleted
    description: Manage Link Aggregation Control Protocol (LACP) on Cisco IOS devices
      interface.
    name: ios_lacp_interfaces
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: A list of link aggregation group configurations.
      isArray: true
      name: config
    - auto: PREDEFINED
      default: true
      defaultValue: merged
      description: The state of the configuration after module completion
      name: state
      predefined:
      - merged
      - replaced
      - overridden
      - deleted
    description: Manage Link Aggregation on Cisco IOS devices.
    name: ios_lag_interfaces
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: Channel-group number for the port-channel Link aggregation group.
        Range 1-255.
      name: group
    - auto: PREDEFINED
      description: Mode of the link aggregation group.
      name: mode
      predefined:
      - active
      - 'on'
      - passive
      - auto
      - desirable
    - description: List of members of the link aggregation group.
      name: members
    - description: List of link aggregation definitions.
      name: aggregate
    - auto: PREDEFINED
      default: true
      defaultValue: present
      description: State of the link aggregation group.
      name: state
      predefined:
      - present
      - absent
    - default: true
      defaultValue: 'False'
      description: Purge links not defined in the `aggregate` parameter.
      name: purge
    description: Manage link aggregation groups on Cisco IOS network devices
    name: ios_linkagg
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - auto: PREDEFINED
      default: true
      defaultValue: present
      description: State of the LLDP configuration. If value is `present` lldp will
        be enabled else if it is `absent` it will be disabled.
      name: state
      predefined:
      - present
      - absent
    description: Manage LLDP configuration on Cisco IOS network devices.
    name: ios_lldp
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: A dictionary of LLDP options
      isArray: true
      name: config
    - auto: PREDEFINED
      default: true
      defaultValue: merged
      description: The state of the configuration after module completion
      name: state
      predefined:
      - merged
      - replaced
      - deleted
    description: Configure and manage Link Layer Discovery Protocol(LLDP) attributes
      on IOS platforms.
    name: ios_lldp_global
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: A dictionary of LLDP options
      isArray: true
      name: config
    - auto: PREDEFINED
      default: true
      defaultValue: merged
      description: The state of the configuration after module completion
      name: state
      predefined:
      - merged
      - replaced
      - overridden
      - deleted
    description: Manage link layer discovery protocol (LLDP) attributes of interfaces
      on Cisco IOS devices.
    name: ios_lldp_interfaces
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - auto: PREDEFINED
      description: Destination of the logs.
      name: dest
      predefined:
      - 'on'
      - host
      - console
      - monitor
      - buffered
      - trap
    - description: 'The hostname or IP address of the destination.

        Required when `dest=host`.'
      name: name
    - default: true
      defaultValue: '4096'
      description: Size of buffer. The acceptable value is in range from 4096 to 4294967295
        bytes.
      name: size
    - description: Set logging facility.
      name: facility
    - auto: PREDEFINED
      default: true
      defaultValue: debugging
      description: Set logging severity levels.
      name: level
      predefined:
      - emergencies
      - alerts
      - critical
      - errors
      - warnings
      - notifications
      - informational
      - debugging
    - description: List of logging definitions.
      name: aggregate
    - auto: PREDEFINED
      default: true
      defaultValue: present
      description: State of the logging configuration.
      name: state
      predefined:
      - present
      - absent
    description: Manage logging on network devices
    name: ios_logging
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: Network address of NTP server.
      name: server
    - description: Source interface for NTP packets.
      name: source_int
    - description: ACL for peer/server access restricition.
      name: acl
    - default: true
      defaultValue: 'False'
      description: Enable NTP logs. Data type boolean.
      name: logging
    - default: true
      defaultValue: 'False'
      description: Enable NTP authentication. Data type boolean.
      name: auth
    - description: md5 NTP authentication key of tye 7.
      name: auth_key
    - description: auth_key id. Data type string
      name: key_id
    - auto: PREDEFINED
      default: true
      defaultValue: present
      description: Manage the state of the resource.
      name: state
      predefined:
      - present
      - absent
    description: Manages core NTP configuration.
    name: ios_ntp
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - default: true
      defaultValue: '5'
      description: Number of packets to send.
      name: count
    - description: The IP Address or hostname (resolvable by switch) of the remote
        node.
      name: dest
      required: true
    - description: The source IP Address.
      name: source
    - auto: PREDEFINED
      default: true
      defaultValue: present
      description: Determines if the expected result is success or fail.
      name: state
      predefined:
      - absent
      - present
    - default: true
      defaultValue: default
      description: The VRF to use for forwarding.
      name: vrf
    description: Tests reachability using ping from Cisco IOS network devices
    name: ios_ping
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: Network prefix of the static route.
      name: prefix
    - description: Network prefix mask of the static route.
      name: mask
    - description: Next hop IP of the static route.
      name: next_hop
    - description: VRF of the static route.
      name: vrf
    - description: Interface of the static route.
      name: interface
    - description: Name of the static route
      name: name
    - description: Admin distance of the static route.
      name: admin_distance
    - description: Set tag of the static route.
      name: tag
    - description: Tracked item to depend on for the static route.
      name: track
    - description: List of static route definitions.
      name: aggregate
    - auto: PREDEFINED
      default: true
      defaultValue: present
      description: State of the static route configuration.
      name: state
      predefined:
      - present
      - absent
    description: Manage static IP routes on Cisco IOS network devices
    name: ios_static_route
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: Configure the device hostname parameter. This option takes an ASCII
        string value.
      name: hostname
    - description: Configure the IP domain name on the remote device to the provided
        value. Value should be in the dotted name form and will be appended to the
        `hostname` to create a fully-qualified domain name.
      name: domain_name
    - description: Provides the list of domain suffixes to append to the hostname
        for the purpose of doing name resolution. This argument accepts a list of
        names and will be reconciled with the current active configuration on the
        running node.
      name: domain_search
    - description: Provides one or more source interfaces to use for performing DNS
        lookups.  The interface provided in `lookup_source` must be a valid interface
        configured on the device.
      name: lookup_source
    - description: Administrative control for enabling or disabling DNS lookups.  When
        this argument is set to True, lookups are performed and when it is set to
        False, lookups are not performed.
      name: lookup_enabled
    - description: List of DNS name servers by IP address to use to perform name resolution
        lookups.  This argument accepts either a list of DNS servers See examples.
      name: name_servers
    - auto: PREDEFINED
      default: true
      defaultValue: present
      description: State of the configuration values in the device's current active
        configuration.  When set to `present`, the values should be configured in
        the device active configuration and when set to `absent` the values should
        not be in the device active configuration
      name: state
      predefined:
      - present
      - absent
    description: Manage the system attributes on Cisco IOS devices
    name: ios_system
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: The set of username objects to be configured on the remote Cisco
        IOS device. The list entries can either be the username or a hash of username
        and properties. This argument is mutually exclusive with the `name` argument.
      name: aggregate
    - description: The username to be configured on the Cisco IOS device. This argument
        accepts a string value and is mutually exclusive with the `aggregate` argument.
        Please note that this option is not same as `provider username`.
      name: name
    - description: The password to be configured on the Cisco IOS device. The password
        needs to be provided in clear and it will be encrypted on the device. Please
        note that this option is not same as `provider password`.
      name: configured_password
    - auto: PREDEFINED
      default: true
      defaultValue: always
      description: Since passwords are encrypted in the device running config, this
        argument will instruct the module when to change the password.  When set to
        `always`, the password will always be updated in the device and when set to
        `on_create` the password will be updated only if the username is created.
      name: update_password
      predefined:
      - on_create
      - always
    - auto: PREDEFINED
      default: true
      defaultValue: secret
      description: This argument determines whether a 'password' or 'secret' will
        be configured.
      name: password_type
      predefined:
      - secret
      - password
    - description: This option allows configuring hashed passwords on Cisco IOS devices.
      name: hashed_password
    - description: The `privilege` argument configures the privilege level of the
        user when logged into the system. This argument accepts integer values in
        the range of 1 to 15.
      name: privilege
    - description: Configures the view for the username in the device running configuration.
        The argument accepts a string value defining the view name. This argument
        does not check if the view has been configured on the device.
      name: view
    - description: 'Specifies one or more SSH public key(s) to configure for the given
        username.

        This argument accepts a valid SSH key value.'
      name: sshkey
    - description: Defines the username without assigning a password. This will allow
        the user to login to the system without being authenticated by a password.
      name: nopassword
    - default: true
      defaultValue: 'False'
      description: Instructs the module to consider the resource definition absolute.
        It will remove any previously configured usernames on the device with the
        exception of the `admin` user (the current defined set of users).
      name: purge
    - auto: PREDEFINED
      default: true
      defaultValue: present
      description: Configures the state of the username definition as it relates to
        the device operational configuration. When set to `present`, the username(s)
        should be configured in the device active configuration and when set to `absent`
        the username(s) should not be in the device active configuration
      name: state
      predefined:
      - present
      - absent
    description: Manage the aggregate of local users on Cisco IOS device
    name: ios_user
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: A dictionary of VLANs options
      isArray: true
      name: config
    - auto: PREDEFINED
      default: true
      defaultValue: merged
      description: The state of the configuration after module completion
      name: state
      predefined:
      - merged
      - replaced
      - overridden
      - deleted
    description: Manage VLANs on Cisco IOS devices.
    name: ios_vlans
    outputs: []
  - arguments:
    - description: hostname or IP of target. Optionally the port can be specified
        using :PORT. If multiple targets are specified using an array, the integration
        will use the configured concurrency factor for high performance.
      isArray: true
      name: host
      required: true
    - description: The set of VRF definition objects to be configured on the remote
        IOS device.  Ths list entries can either be the VRF name or a hash of VRF
        definitions and attributes.  This argument is mutually exclusive with the
        `name` argument.
      name: vrfs
    - description: The name of the VRF definition to be managed on the remote IOS
        device.  The VRF definition name is an ASCII string name used to uniquely
        identify the VRF.  This argument is mutually exclusive with the `vrfs` argument
      name: name
    - description: Provides a short description of the VRF definition in the current
        active configuration.  The VRF definition value accepts alphanumeric characters
        used to provide additional information about the VRF.
      name: description
    - description: The router-distinguisher value uniquely identifies the VRF to routing
        processes on the remote IOS system.  The RD value takes the form of `A:B`
        where `A` and `B` are both numeric values.
      name: rd
    - description: Identifies the set of interfaces that should be configured in the
        VRF.  Interfaces must be routed interfaces in order to be placed into a VRF.
      name: interfaces
    - description: This is a intent option and checks the operational state of the
        for given vrf `name` for associated interfaces. If the value in the `associated_interfaces`
        does not match with the operational state of vrf interfaces on device it will
        result in failure.
      name: associated_interfaces
    - default: true
      defaultValue: '10'
      description: Time in seconds to wait before checking for the operational state
        on remote device.
      name: delay
    - default: true
      defaultValue: 'False'
      description: Instructs the module to consider the VRF definition absolute.  It
        will remove any previously configured VRFs on the device.
      name: purge
    - auto: PREDEFINED
      default: true
      defaultValue: present
      description: Configures the state of the VRF definition as it relates to the
        device operational configuration.  When set to `present`, the VRF should be
        configured in the device active configuration and when set to `absent` the
        VRF should not be in the device active configuration
      name: state
      predefined:
      - present
      - absent
    - description: Adds an export and import list of extended route target communities
        to the VRF.
      name: route_both
    - description: Adds an export list of extended route target communities to the
        VRF.
      name: route_export
    - description: Adds an import list of extended route target communities to the
        VRF.
      name: route_import
    - description: Adds an export and import list of extended route target communities
        in address-family configuration submode to the VRF.
      name: route_both_ipv4
    - description: Adds an export list of extended route target communities in address-family
        configuration submode to the VRF.
      name: route_export_ipv4
    - description: Adds an import list of extended route target communities in address-family
        configuration submode to the VRF.
      name: route_import_ipv4
    - description: Adds an export and import list of extended route target communities
        in address-family configuration submode to the VRF.
      name: route_both_ipv6
    - description: Adds an export list of extended route target communities in address-family
        configuration submode to the VRF.
      name: route_export_ipv6
    - description: Adds an import list of extended route target communities in address-family
        configuration submode to the VRF.
      name: route_import_ipv6
    description: Manage the collection of VRF definitions on Cisco IOS devices
    name: ios_vrf
    outputs: []
  dockerimage: demisto/ansible-runner
  runonce: false
  script: "\nimport json\nimport traceback\nimport ansible_runner\nimport ssh_agent_setup\n\
    from typing import Any, Dict, Tuple, List, Optional, Union, cast\n\n\n# Dict to\
    \ Markdown Converter adapted from https://github.com/PolBaladas/torsimany/\ndef\
    \ dict2md(json_block, depth=0):\n\tmarkdown = \"\"\n\tif isinstance(json_block,\
    \ dict):\n\t    markdown = parseDict(json_block, depth)\n    if isinstance(json_block,\
    \ list):\n\t    markdown = parseList(json_block, depth)\n\treturn markdown\n\n\
    \ndef parseDict(d, depth):\n\tmarkdown = \"\"\n\tfor k in d:\n\t\tif isinstance(d[k],\
    \ (dict, list)):\n\t\t\tmarkdown += addHeader(k, depth)\n\t\t\tmarkdown += dict2md(d[k],\
    \ depth + 1)\n\t\telse:\n\t\t\tmarkdown += buildValueChain(k, d[k], depth)\n\t\
    return markdown\n\ndef parseList(l, depth):\n\tmarkdown = \"\"\n\tfor value in\
    \ l:\n\t\tif not isinstance(value, (dict, list)):\n\t\t\tindex = l.index(value)\n\
    \t\t\tmarkdown += buildValueChain(index, value, depth)\n\t\telse:\n\t\t\tmarkdown\
    \ += parseDict(value, depth)\n\treturn markdown\n\ndef buildHeaderChain(depth):\n\
    \tlist_tag = '* '\n\thtag = '#'\n\n\tchain = list_tag * (bool(depth)) + htag *\
    \ (depth + 1) + \\\n\t\t' value ' + (htag * (depth + 1) + '\\n')\n\treturn chain\n\
    \ndef buildValueChain(key, value, depth):\n\ttab = \"  \"\n\tlist_tag = '* '\n\
    \n\tchain = tab * (bool(depth - 1)) + list_tag + \\\n\t\tstr(key) + \": \" + str(value)\
    \ + \"\\n\"\n\treturn chain\n\ndef addHeader(value, depth):\n\tchain = buildHeaderChain(depth)\n\
    \tchain = chain.replace('value', value.title())\n\treturn chain\n\n\n# Remove\
    \ ansible branding from results\ndef rec_ansible_key_strip(obj):\n    if isinstance(obj,\
    \ dict):\n        return {key.replace('ansible_', ''): rec_ansible_key_strip(val)\
    \ for key, val in obj.items()}\n    return obj\n\n\n\n# COMMAND FUNCTIONS\n\n\n\
    def generic_ansible(integration_name, command, args: Dict[str, Any]) -> CommandResults:\n\
    \n    readable_output = \"\"\n    sshkey = \"\" \n    fork_count = 1   # default\
    \ to executing against 1 host at a time\n\n    if args.get('concurrency'):\n \
    \       fork_count = int(args.get('concurrency'))\n\n    inventory = {}\n    inventory['all']\
    \ = {}\n    inventory['all']['hosts'] = {}\n    \n    if type(args['host']) is\
    \ list:\n        # host arg can be a array of multiple hosts\n        hosts =\
    \ args['host']\n    else:\n        # host arg could also be csv\n        hosts\
    \ = [host.strip() for host in args['host'].split(',')]\n\n    for host in hosts:\n\
    \        new_host = {}\n        new_host['ansible_host'] = host\n        \n  \
    \      if \":\" in host:\n            address = host.split(':')\n            new_host['ansible_port']\
    \ = address[1]\n            new_host['ansible_host'] = address[0]\n        else:\n\
    \            new_host['ansible_host'] = host\n            if demisto.params().get('port'):\n\
    \                new_host['ansible_port'] = demisto.params().get('port')\n   \
    \     # Cisco IOS\n\n        # Different credential options\n        # SSH Key\
    \ saved in credential manager selection\n        sshkey = \"\"\n        if demisto.params().get('creds',\
    \ {}).get('credentials').get('sshkey'):\n            username = demisto.params().get('creds',\
    \ {}).get('credentials').get('user')\n            sshkey = demisto.params().get('creds',\
    \ {}).get('credentials').get('sshkey')\n\n            new_host['ansible_user']\
    \ = username\n\n        # Password saved in credential manager selection\n   \
    \     elif demisto.params().get('creds', {}).get('credentials').get('password'):\n\
    \            username = demisto.params().get('creds', {}).get('credentials').get('user')\n\
    \            password = demisto.params().get('creds', {}).get('credentials').get('password')\n\
    \n            new_host['ansible_user'] = username\n            new_host['ansible_password']\
    \ = password\n\n        # username/password individually entered\n        else:\n\
    \            username = demisto.params().get('creds', {}).get('identifier')\n\
    \            password = demisto.params().get('creds', {}).get('password')\n\n\
    \            new_host['ansible_user'] = username\n            new_host['ansible_password']\
    \ = password\n\n        new_host['ansible_connection'] = 'network_cli'\n     \
    \   new_host['ansible_network_os'] = 'ios'\n        new_host['ansible_become']\
    \ = 'yes'\n        new_host['ansible_become_method'] = 'enable'\n        inventory['all']['hosts'][host]\
    \ = new_host\n    module_args = \"\"\n    # build module args list\n    for arg_key,\
    \ arg_value in args.items():\n        # skip hardcoded host arg, as it doesn't\
    \ related to module\n        if arg_key == 'host':\n            continue\n\n \
    \       module_args += \"%s=\\\"%s\\\" \" % (arg_key, arg_value)\n\n    r = ansible_runner.run(inventory=inventory,host_pattern='all',\
    \ module=command, quiet=True, omit_event_data=True, ssh_key=sshkey, module_args=module_args,\
    \ forks=fork_count)\n\n    results = []\n    for each_host_event in r.events:\n\
    \        # Troubleshooting\n        # demisto.log(\"%s: %s\\n\" % (each_host_event['event'],\
    \ each_host_event))\n        if each_host_event['event'] in (\"runner_on_ok\"\
    , \"runner_on_unreachable\", \"runner_on_failed\"):\n\n            # parse results\n\
    \n            result = json.loads('{' + each_host_event['stdout'].split('{',1)[1])\n\
    \            host = each_host_event['stdout'].split('|',1)[0].strip()\n      \
    \      status = each_host_event['stdout'].replace('=>', '|').split('|',3)[1]\n\
    \n            # if successful build outputs\n            if each_host_event['event']\
    \ == \"runner_on_ok\":\n                if 'fact' in command:\n              \
    \      result = result['ansible_facts']\n                else:\n             \
    \       if result.get(command) != None:\n                        result = result[command]\n\
    \                    else:\n                        result.pop(\"ansible_facts\"\
    , None)\n\n                result = rec_ansible_key_strip(result)\n\n        \
    \        if host != \"localhost\":\n                    readable_output += \"\
    # %s - %s\\n\" % (host, status)\n                else:\n                    #\
    \ This is integration is not host based\n                    readable_output +=\
    \ \"# %s\\n\" % status\n\n                readable_output += dict2md(result)\n\
    \n                # add host and status to result\n                result['host']\
    \ = host\n                result['status'] = status\n\n                results.append(result)\n\
    \            if each_host_event['event'] == \"runner_on_unreachable\":\n     \
    \           msg = \"Host %s unreachable\\nError Details: %s\" % (host, result)\n\
    \                return_error(msg)\n\n            if each_host_event['event']\
    \ == \"runner_on_failed\":\n                msg = \"Host %s failed running command\\\
    nError Details: %s\" % (host, result)\n                return_error(msg)\n   \
    \ return CommandResults(\n        readable_output=readable_output,\n        outputs_prefix=integration_name\
    \ + '.' + command,\n        outputs_key_field='',\n        outputs=results\n \
    \   )\n\n\n\n# MAIN FUNCTION\n\n\ndef main() -> None:\n    \"\"\"main function,\
    \ parses params and runs command functions\n\n    :return:\n    :rtype:\n    \"\
    \"\"\n\n    # SSH Key integration requires ssh_agent to be running in the background\n\
    \    ssh_agent_setup.setup()\n\n    try:\n\n        if demisto.command() == 'test-module':\n\
    \            # This is the call made when pressing the integration Test button.\n\
    \            return_results('ok')\n        elif demisto.command() == 'ios_banner':\n\
    \            return_results(generic_ansible('ciscoios', 'ios_banner', demisto.args()))\n\
    \        elif demisto.command() == 'ios_bgp':\n            return_results(generic_ansible('ciscoios',\
    \ 'ios_bgp', demisto.args()))\n        elif demisto.command() == 'ios_command':\n\
    \            return_results(generic_ansible('ciscoios', 'ios_command', demisto.args()))\n\
    \        elif demisto.command() == 'ios_config':\n            return_results(generic_ansible('ciscoios',\
    \ 'ios_config', demisto.args()))\n        elif demisto.command() == 'ios_facts':\n\
    \            return_results(generic_ansible('ciscoios', 'ios_facts', demisto.args()))\n\
    \        elif demisto.command() == 'ios_interfaces':\n            return_results(generic_ansible('ciscoios',\
    \ 'ios_interfaces', demisto.args()))\n        elif demisto.command() == 'ios_l2_interfaces':\n\
    \            return_results(generic_ansible('ciscoios', 'ios_l2_interfaces', demisto.args()))\n\
    \        elif demisto.command() == 'ios_l3_interfaces':\n            return_results(generic_ansible('ciscoios',\
    \ 'ios_l3_interfaces', demisto.args()))\n        elif demisto.command() == 'ios_lacp':\n\
    \            return_results(generic_ansible('ciscoios', 'ios_lacp', demisto.args()))\n\
    \        elif demisto.command() == 'ios_lacp_interfaces':\n            return_results(generic_ansible('ciscoios',\
    \ 'ios_lacp_interfaces', demisto.args()))\n        elif demisto.command() == 'ios_lag_interfaces':\n\
    \            return_results(generic_ansible('ciscoios', 'ios_lag_interfaces',\
    \ demisto.args()))\n        elif demisto.command() == 'ios_linkagg':\n       \
    \     return_results(generic_ansible('ciscoios', 'ios_linkagg', demisto.args()))\n\
    \        elif demisto.command() == 'ios_lldp':\n            return_results(generic_ansible('ciscoios',\
    \ 'ios_lldp', demisto.args()))\n        elif demisto.command() == 'ios_lldp_global':\n\
    \            return_results(generic_ansible('ciscoios', 'ios_lldp_global', demisto.args()))\n\
    \        elif demisto.command() == 'ios_lldp_interfaces':\n            return_results(generic_ansible('ciscoios',\
    \ 'ios_lldp_interfaces', demisto.args()))\n        elif demisto.command() == 'ios_logging':\n\
    \            return_results(generic_ansible('ciscoios', 'ios_logging', demisto.args()))\n\
    \        elif demisto.command() == 'ios_ntp':\n            return_results(generic_ansible('ciscoios',\
    \ 'ios_ntp', demisto.args()))\n        elif demisto.command() == 'ios_ping':\n\
    \            return_results(generic_ansible('ciscoios', 'ios_ping', demisto.args()))\n\
    \        elif demisto.command() == 'ios_static_route':\n            return_results(generic_ansible('ciscoios',\
    \ 'ios_static_route', demisto.args()))\n        elif demisto.command() == 'ios_system':\n\
    \            return_results(generic_ansible('ciscoios', 'ios_system', demisto.args()))\n\
    \        elif demisto.command() == 'ios_user':\n            return_results(generic_ansible('ciscoios',\
    \ 'ios_user', demisto.args()))\n        elif demisto.command() == 'ios_vlans':\n\
    \            return_results(generic_ansible('ciscoios', 'ios_vlans', demisto.args()))\n\
    \        elif demisto.command() == 'ios_vrf':\n            return_results(generic_ansible('ciscoios',\
    \ 'ios_vrf', demisto.args()))\n    # Log exceptions and return errors\n    except\
    \ Exception as e:\n        demisto.error(traceback.format_exc())  # print the\
    \ traceback\n        return_error(f'Failed to execute {demisto.command()} command.\\\
    nError:\\n{str(e)}')\n\n\n# ENTRY POINT\n\n\nif __name__ in ('__main__', '__builtin__',\
    \ 'builtins'):\n    main() "
  subtype: python3
  type: python
